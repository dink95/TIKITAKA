<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}">
    <script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.5.2/js/bootstrap.min.js}"></script>
    <style>
        img {
            margin: 10px 10px 10px 10px;
            width: 150px;
            height: 150px;
        }
    </style>
</head>
<body>
<h1 class="text-center">파일업로드 테스트</h1>
<div class="container text-nowrap" style="margin-top: 20px;">
    <div class="text-center" style="height: 300px;margin-top: 30px;width: 100%;">
        <img th:each=" img : ${imgList}" th:src="|/istatic/images/${img}|">
    </div>
</div>

</body>
<script>

    function chk_file_type(obj) {
        var file_kind = obj.value.lastIndexOf('.');
        var file_name = obj.value.substring(file_kind + 1, obj.length);
        var file_type = file_name.toLowerCase();

        var check_file_type = ['jpg', 'gif', 'png', 'jpeg'];
        var agent = navigator.userAgent.toLowerCase()

        if (check_file_type.indexOf(file_type) == -1) {
            alert('이미지 파일만 선택할 수 있습니다.');

            if ( (navigator.appName == 'Netscape'
                && navigator.userAgent.search('Trident') != -1) || (agent.indexOf("msie") != -1) ) {
                $(obj).replaceWith($(obj).clone(true));
            }else{
                $(obj).val("");
            }
        }else {
            readImage(obj);
        }
    }

    function readImage(file) {
        var reader = new FileReader();

        reader.onload = function(e) {
            var img = $('#img_' + file.id)
            img.attr("src", e.target.result);
        };
        reader.readAsDataURL(file.files[0]);
    }

</script>
</html>